{"ast":null,"code":"import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _assertThisInitialized from\"@babel/runtime/helpers/assertThisInitialized\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";import _inherits from\"@babel/runtime/helpers/inherits\";function _createSuper(Derived){function isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true;}catch(e){return false;}}return function(){var Super=_getPrototypeOf(Derived),result;if(isNativeReflectConstruct()){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends.apply(this,arguments);}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key];}}return target;}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key];}return target;}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}import*as React from'react';import Animated from\"react-native-web/dist/exports/Animated\";import Platform from\"react-native-web/dist/exports/Platform\";import{BaseButton}from'react-native-gesture-handler';var AnimatedBaseButton=Animated.createAnimatedComponent(BaseButton);var useNativeDriver=Platform.OS!=='web';var BorderlessButton=function(_React$Component){_inherits(BorderlessButton,_React$Component);var _super=_createSuper(BorderlessButton);function BorderlessButton(){var _this;_classCallCheck(this,BorderlessButton);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_defineProperty(_assertThisInitialized(_this),\"opacity\",new Animated.Value(1));_defineProperty(_assertThisInitialized(_this),\"handleActiveStateChange\",function(active){var _this$props$onActiveS,_this$props;if(Platform.OS!=='android'){Animated.spring(_this.opacity,{stiffness:1000,damping:500,mass:3,overshootClamping:true,restDisplacementThreshold:0.01,restSpeedThreshold:0.01,toValue:active?_this.props.activeOpacity:1,useNativeDriver:useNativeDriver}).start();}(_this$props$onActiveS=(_this$props=_this.props).onActiveStateChange)===null||_this$props$onActiveS===void 0?void 0:_this$props$onActiveS.call(_this$props,active);});return _this;}_createClass(BorderlessButton,[{key:\"render\",value:function render(){var _this$props2=this.props,children=_this$props2.children,style=_this$props2.style,enabled=_this$props2.enabled,rest=_objectWithoutProperties(_this$props2,[\"children\",\"style\",\"enabled\"]);return React.createElement(AnimatedBaseButton,_extends({},rest,{onActiveStateChange:this.handleActiveStateChange,style:[style,Platform.OS==='ios'&&enabled&&{opacity:this.opacity}]}),children);}}]);return BorderlessButton;}(React.Component);export{BorderlessButton as default};_defineProperty(BorderlessButton,\"defaultProps\",{activeOpacity:0.3,borderless:true});","map":{"version":3,"sources":["BorderlessButton.tsx"],"names":["AnimatedBaseButton","Animated","useNativeDriver","Platform","BorderlessButton","React","activeOpacity","borderless","active","stiffness","damping","mass","overshootClamping","restDisplacementThreshold","restSpeedThreshold","toValue","enabled","opacity"],"mappings":"upEAAA,MAAO,GAAP,CAAA,KAAA,KAAA,OAAA,C,0HAEA,OAAA,UAAA,KAAA,8BAAA,CAEA,GAAMA,CAAAA,kBAAkB,CAAGC,QAAQ,CAARA,uBAAAA,CAA3B,UAA2BA,CAA3B,CAMA,GAAMC,CAAAA,eAAe,CAAGC,QAAQ,CAARA,EAAAA,GAAxB,KAAA,C,GAEe,CAAA,gB,mHAAsD,2BAAA,gFAAA,IAAA,0CAAA,IAAA,wBAAA,6CAAA,IAAA,GAAA,eAAA,+BAAA,SAAA,CAMjD,GAAIF,CAAAA,QAAQ,CAAZ,KAAA,CANiD,CAMjD,CANiD,CAAA,CAAA,eAAA,+BAAA,yBAAA,CAQhCO,SAAAA,MAAD,CAAqB,CAAA,GAAA,CAAA,qBAAA,CAAA,WAAA,CACrD,GAAIL,QAAQ,CAARA,EAAAA,GAAJ,SAAA,CAA+B,CAC7BF,QAAQ,CAARA,MAAAA,CAAgB,MAAhBA,OAAAA,CAA8B,CAC5BQ,SAAS,CADmB,IAAA,CAE5BC,OAAO,CAFqB,GAAA,CAG5BC,IAAI,CAHwB,CAAA,CAI5BC,iBAAiB,CAJW,IAAA,CAK5BC,yBAAyB,CALG,IAAA,CAM5BC,kBAAkB,CANU,IAAA,CAO5BC,OAAO,CAAEP,MAAM,CAAG,MAAA,KAAA,CAAH,aAAA,CAPa,CAAA,CAQ5BN,eAAAA,CAAAA,eAR4B,CAA9BD,EAAAA,KAAAA,GAUD,CAED,CAAA,qBAAA,CAAA,CAAA,WAAA,CAAA,MAAA,KAAA,EAAA,mBAAA,IAAA,IAAA,EAAA,qBAAA,GAAA,IAAA,EAAA,CAAA,IAAA,EAAA,CAAA,qBAAA,CAAA,IAAA,CAAA,WAAA,CAAA,MAAA,CAAA,CAtBiE,CAAA,CAAA,CAAA,aAAA,C,oEAyB1D,CACP,GAAA,CAAA,YAAA,CAA8C,KAA9C,KAAA,CAAM,QAAN,CAAA,YAAA,CAAM,QAAN,CAAM,KAAN,CAAA,YAAA,CAAM,KAAN,CAAyBe,OAAzB,CAAA,YAAA,CAAyBA,OAAzB,CAAA,IAAA,CAAA,wBAAA,CAAA,YAAA,CAAA,CAAA,UAAA,CAAA,OAAA,CAAA,SAAA,CAAA,CAAA,CAEA,MAEE,CAAA,KAAA,CAAA,aAAA,CAAA,kBAAA,CAAA,QAAA,CAAA,EAAA,CAAA,IAAA,CAAA,CAEE,mBAAmB,CAAE,KAFvB,uBAAA,CAGE,KAAK,CAAE,CAAA,KAAA,CAELb,QAAQ,CAARA,EAAAA,GAAAA,KAAAA,EAAAA,OAAAA,EAAoC,CAAEc,OAAO,CAAE,KAAKA,OAAhB,CAF/B,CAHT,CAAA,CAAA,CAAA,QAAA,CAFF,CAaD,C,8BAzC2CZ,KAAK,CAApC,S,SAAA,gB,6BAAMD,gB,gBACG,CACpBE,aAAa,CADO,GAAA,CAEpBC,UAAU,CAAE,IAFQ,C","sourcesContent":["import * as React from 'react';\nimport { Animated, Platform } from 'react-native';\nimport { BaseButton } from 'react-native-gesture-handler';\n\nconst AnimatedBaseButton = Animated.createAnimatedComponent(BaseButton);\n\ntype Props = React.ComponentProps<typeof BaseButton> & {\n  activeOpacity: number;\n};\n\nconst useNativeDriver = Platform.OS !== 'web';\n\nexport default class BorderlessButton extends React.Component<Props> {\n  static defaultProps = {\n    activeOpacity: 0.3,\n    borderless: true,\n  };\n\n  private opacity = new Animated.Value(1);\n\n  private handleActiveStateChange = (active: boolean) => {\n    if (Platform.OS !== 'android') {\n      Animated.spring(this.opacity, {\n        stiffness: 1000,\n        damping: 500,\n        mass: 3,\n        overshootClamping: true,\n        restDisplacementThreshold: 0.01,\n        restSpeedThreshold: 0.01,\n        toValue: active ? this.props.activeOpacity : 1,\n        useNativeDriver,\n      }).start();\n    }\n\n    this.props.onActiveStateChange?.(active);\n  };\n\n  render() {\n    const { children, style, enabled, ...rest } = this.props;\n\n    return (\n      // @ts-ignore\n      <AnimatedBaseButton\n        {...rest}\n        onActiveStateChange={this.handleActiveStateChange}\n        style={[\n          style,\n          Platform.OS === 'ios' && enabled && { opacity: this.opacity },\n        ]}\n      >\n        {children}\n      </AnimatedBaseButton>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}